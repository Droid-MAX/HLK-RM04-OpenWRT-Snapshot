### 前提条件： ###

一部已root、支持otg功能、支持usb网卡(usb转rj45)上网的安卓手机

### 物件准备： ###

上述手机一部，otg数据线一根，usb网卡一张，网线一根

### 软件准备： ###

终端模拟器类软件(此处使用的是Termux)

### 声明：本文着重讲解手机端的操作，第5步的串口调试不在本文的讨论范畴之内，故不做详细说明 ###

----------

## 主要步骤： ##

### **1、连接路由器** ###

首先将手机、otg数据线、usb网卡与网线连接好，再将网线另一端连接到路由器的LAN口

### **2、检查网络接口** ###

手机端打开Termux，执行ifconfig命令查看网络接口是否被正常识别，如有eth0接口出现，即可进行下一步操作

### **3、配置静态ip** ###

![](https://i.imgur.com/ZueR8vL.png)

静态ip的配置依实际情况而定(注意：此步操作需要root权限)

### **4、准备下载** ###

首先明确tftp服务器的根目录(即被用于下载的固件文件存放在手机当中的哪个目录下)，使用cd命令切换到存放有路由器固件的文件夹当中<br>
启动tftp服务器

![](https://i.imgur.com/l1dM521.png)

执行完截图当中的命令后只有在开始下载固件时才会有后四行输出(注意：此步操作需要root权限)

### **5、开始下载** ###

通过串口调试的方式在路由器上电后迅速中断其正常引导系统，进入U-Boot菜单，根据对应的选项选择通过tftp来更新固件，依照提示分别输入路由器ip，手机ip，完整固件文件名

![](https://i.imgur.com/cmxfu2B.png)

确认无误后回车即可开始下载

### **6、结束下载** ###

等到串口调试输出显示路由器开始加载内核时即可终止udpsvd的运行(使用 `Ctrl + C` 终止)，关闭eth0接口(使用root权限执行 `ifconfig eth0 down`)，最后拔掉otg数据线

----------

### **操作演示：** ###

![](https://i.imgur.com/ZZ0fpU1.png)
